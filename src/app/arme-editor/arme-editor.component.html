<section id="projects" class="projects-section bg-light">
  <div class="container">
    <div  class="row justify-content-center no-gutters mb-5 mb-lg-0">
      <div class="col-9">
        <h2>{{ (getArme) ? 'Editer ' + getArme.name :'Ajouter une nouvelle arme' }}</h2>
        <div *ngIf="message !== '' " class="alert alert-danger">{{ message }}</div>
        <form [formGroup]="profileForm">
          <br />
          <div class="form-group">
            <label>Nom : </label>
              <input id="name" type="text" [ngModel]="(getArme) ? getArme.name :'' " formControlName="name" class="form-control" required>
          </div>
          <div *ngIf="profileForm.controls['name'].invalid && (profileForm.controls['name'].dirty || profileForm.controls['name'].touched)" class="alert alert-danger">
            <div *ngIf="profileForm.controls['name'].errors.required">
              Saisir votre nom.
            </div>
          </div>
          <div class="form-group">
            <label>Attaque :</label>
              <input #attaque
                     type="number"
                     [ngModel]="(getArme) ? getArme.attaque : 0 "
                     min="-5" max="5"
                     (change)="limitNumber()"
                     formControlName="attaque"
                     class="form-control">
            <div class="alert alert-danger" *ngIf="attaque.value <-5 || attaque.value >5">
              Attaque entre -5 et 5.
            </div>
          </div>
          <div class="form-group">
            <label>Esquive:</label>
              <input #esquive
                     type="number"
                     [ngModel]="(getArme) ? getArme.esquive : 0
                      " min="-5" max="5"
                     (change)="limitNumber()"
                     formControlName="esquive"
                     class="form-control">
            <div class="alert alert-danger" *ngIf="esquive.value <-5 || esquive.value >5">
              Esquive entre -5 et 5.
            </div>
          </div>
          <div class="form-group">
            <label>Dégâts : </label>
            <input #degats
                   type="number"
                   [ngModel]="(getArme) ? getArme.degats : 0 "
                   min="-5" max="5" (change)="limitNumber()"
                   formControlName="degats"
                   class="form-control">
            <div class="alert alert-danger" *ngIf="degats.value <-5 || degats.value >5">
              Dégâts entre -5 et 5.
            </div>
          </div>
          <div class="form-group">
            <label>Point de vie: </label>
              <input #pointDeVie
                     type="number"
                     [ngModel]="(getArme) ? getArme.pointDeVie : 0 "
                     min="-5" max="5"
                     (change)="limitNumber()"
                     formControlName="pointDeVie"
                     class="form-control">
            <div class="alert alert-danger" *ngIf="pointDeVie.value <-5 || pointDeVie.value >5">
              Points de vie entre -5 et 5.
            </div>
          </div>
          <p>{{ifCorrect}}</p>
          <button [disabled]="!profileForm.valid" class="btn btn-primary" type="submit" (click)="saveArme()">Submit</button>
        </form>
      </div>
    </div>
  </div>
</section>
